function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}import createConnector from'../core/createConnector';import PropTypes from'prop-types';import{cleanUpValue,refineValue,getCurrentRefinementValue,getIndex}from'../core/indexUtils';function getId(){return'query'}function getCurrentRefinement(a,b,c){var d=getId(a);return getCurrentRefinementValue(a,b,c,d,'',function(e){return e?e:''})}function _refine(a,b,c,d){var e=getId(),f=_defineProperty({},e,c);return refineValue(b,f,d,!0)}function _cleanUp(a,b,c){return cleanUpValue(b,c,getId())}export default createConnector({displayName:'AlgoliaSearchBox',propTypes:{defaultRefinement:PropTypes.string},getProvidedProps:function getProvidedProps(a,b){return{currentRefinement:getCurrentRefinement(a,b,this.context)}},refine:function refine(a,b,c){return _refine(a,b,c,this.context)},cleanUp:function cleanUp(a,b){return _cleanUp(a,b,this.context)},getSearchParameters:function getSearchParameters(a,b,c){return a.setQuery(getCurrentRefinement(b,c,this.context))},getMetadata:function getMetadata(a,b){var c=this,d=getId(a),e=getCurrentRefinement(a,b,this.context);return{id:d,index:getIndex(this.context),items:null===e?[]:[{label:d+': '+e,value:function value(f){return _refine(a,f,'',c.context)},currentRefinement:e}]}}});