'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _propTypes=require('prop-types'),_propTypes2=_interopRequireDefault(_propTypes),_createConnector=require('../core/createConnector'),_createConnector2=_interopRequireDefault(_createConnector),_indexUtils=require('../core/indexUtils');function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function getId(a){return a.attributeName}var namespace='toggle';function getCurrentRefinement(a,b,c){return(0,_indexUtils.getCurrentRefinementValue)(a,b,c,namespace+'.'+getId(a),!1,function(d){return!!d&&d})}function _refine(a,b,c,d){var e=getId(a),f=_defineProperty({},e,!!c&&c);return(0,_indexUtils.refineValue)(b,f,d,!0,namespace)}function _cleanUp(a,b,c){return(0,_indexUtils.cleanUpValue)(b,c,namespace+'.'+getId(a))}exports.default=(0,_createConnector2.default)({displayName:'AlgoliaToggle',propTypes:{label:_propTypes2.default.string,filter:_propTypes2.default.func,attributeName:_propTypes2.default.string,value:_propTypes2.default.any,defaultRefinement:_propTypes2.default.bool},getProvidedProps:function getProvidedProps(a,b){var c=getCurrentRefinement(a,b,this.context);return{currentRefinement:c}},refine:function refine(a,b,c){return _refine(a,b,c,this.context)},cleanUp:function cleanUp(a,b){return _cleanUp(a,b,this.context)},getSearchParameters:function getSearchParameters(a,b,c){var d=b.attributeName,e=b.value,f=b.filter,g=getCurrentRefinement(b,c,this.context);return g&&(d&&(a=a.addFacet(d).addFacetRefinement(d,e)),f&&(a=f(a))),a},getMetadata:function getMetadata(a,b){var c=this,d=getId(a),e=getCurrentRefinement(a,b,this.context),f=[],g=(0,_indexUtils.getIndex)(this.context);return e&&f.push({label:a.label,currentRefinement:a.label,attributeName:a.attributeName,value:function value(h){return _refine(a,h,!1,c.context)}}),{id:d,index:g,items:f}}});