'use strict';var _extends=Object.assign||function(a){for(var c,b=1;b<arguments.length;b++)for(var d in c=arguments[b],c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d]);return a},_propTypes=require('prop-types'),_propTypes2=_interopRequireDefault(_propTypes),_indexUtils=require('../core/indexUtils'),_createConnector=require('../core/createConnector'),_createConnector2=_interopRequireDefault(_createConnector);Object.defineProperty(exports,'__esModule',{value:!0});function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function getId(){return'sortBy'}function getCurrentRefinement(a,b,c){var d=getId(a);return(0,_indexUtils.getCurrentRefinementValue)(a,b,c,d,null,function(e){return e?e:null})}exports.default=(0,_createConnector2.default)({displayName:'AlgoliaSortBy',propTypes:{defaultRefinement:_propTypes2.default.string,items:_propTypes2.default.arrayOf(_propTypes2.default.shape({label:_propTypes2.default.string,value:_propTypes2.default.string.isRequired})).isRequired,transformItems:_propTypes2.default.func},getProvidedProps:function getProvidedProps(a,b){var c=getCurrentRefinement(a,b,this.context),d=a.items.map(function(e){return e.value===c?_extends({},e,{isRefined:!0}):_extends({},e,{isRefined:!1})});return{items:a.transformItems?a.transformItems(d):d,currentRefinement:c}},refine:function refine(a,b,c){var d=getId(),e=_defineProperty({},d,c);return(0,_indexUtils.refineValue)(b,e,this.context,!0)},cleanUp:function cleanUp(a,b){return(0,_indexUtils.cleanUpValue)(b,this.context,getId())},getSearchParameters:function getSearchParameters(a,b,c){var d=getCurrentRefinement(b,c,this.context);return a.setIndex(d)},getMetadata:function getMetadata(){return{id:getId()}}});