'use strict';var _get2=require('lodash/get'),_get3=_interopRequireDefault(_get2);Object.defineProperty(exports,'__esModule',{value:!0});exports.default=parseAlgoliaHit;function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function parseAlgoliaHit(a){var b=a.preTag,c=b===void 0?'<em>':b,d=a.postTag,e=d===void 0?'</em>':d,f=a.highlightProperty,g=a.attributeName,h=a.hit;if(!h)throw new Error('`hit`, the matching record, must be provided');var i=(0,_get3.default)(h[f],g),j=i?i.value:'';return parseHighlightedAttribute({preTag:c,postTag:e,highlightedValue:j})}function parseHighlightedAttribute(a){var b=a.preTag,c=a.postTag,d=a.highlightedValue,e=d.split(b),f=e.shift(),g=''===f?[]:[{value:f,isHighlighted:!1}];if(c===b){var h=!0;e.forEach(function(i){g.push({value:i,isHighlighted:h}),h=!h})}else e.forEach(function(h){var i=h.split(c);g.push({value:i[0],isHighlighted:!0}),''!==i[1]&&g.push({value:i[1],isHighlighted:!1})});return g}